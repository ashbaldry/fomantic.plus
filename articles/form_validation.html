<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Form Input Validation with Fomantic UI • fomantic.plus</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Form Input Validation with Fomantic UI">
<meta property="og:description" content="fomantic.plus">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fomantic.plus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/form_validation.html">Form Input Validation with Fomantic UI</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ashbaldry/fomantic.plus/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="form_validation_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Form Input Validation with Fomantic UI</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ashbaldry/fomantic.plus/blob/HEAD/vignettes/form_validation.Rmd" class="external-link"><code>vignettes/form_validation.Rmd</code></a></small>
      <div class="hidden name"><code>form_validation.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Input validation is a key part of shiny applications. If a user is able to add open text input, then it is likely someone will end up entering something that will crash the application. For example incorrectly writing an e-mail address or adding an extra . in a number.</p>
<p>Normally, an application will handle validating the inputs on the server side in R, but it can be cumbersome writing conditions for every possibility and writing an informative message for each potential issue.</p>
<p>Fomantic UI have included a <a href="https://fomantic-ui.com/behaviors/form.html" class="external-link">form validation component</a> within their framework which easily does the required checks within the UI, meaning little/no work required on your end.</p>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>To add form validation to a Fomantic UI application:</p>
<ol style="list-style-type: decimal">
<li><p>Create a <code><a href="https://rdrr.io/pkg/shiny.semantic/man/form.html" class="external-link">shiny.semantic::form</a></code>, adding a set of inputs and giving the <code>form</code> element a unique ID</p></li>
<li><p>Within <code>form</code>, include an extra argument, <code>form_validation</code>, using the same ID as the <code>form</code> it is in</p></li>
<li><p>Add a series of <code>field_validation</code>, each containing a set of <code>field_rule</code>, making sure the IDs match the inputs</p></li>
<li><p>Any server-side functionality relying on the inputs in the form, replace <code>reactive(...)</code> with <code>eventReactive(input$&lt;form_id&gt;_submit, ...)</code> (and same with <code>observe</code> and <code>observeEvent</code>), as the submit button will only run if the form validation is successful</p></li>
</ol>
<p>In-depth documentation is available for each form validation function.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Using the <a href="https://github.com/ashbaldry/fomantic.plus/inst/examples/form_validation" class="external-link">form validation example</a>, we can see the following in the UI:</p>
<pre><code><span class="fu">shiny.semantic</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny.semantic/man/form.html" class="external-link">form</a></span><span class="op">(</span>
  id <span class="op">=</span> <span class="st">"form"</span>,
  <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html" class="external-link">h4</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ui dividing header"</span>, <span class="st">"User Information"</span><span class="op">)</span>,
  <span class="fu">shiny.semantic</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny.semantic/man/fields.html" class="external-link">fields</a></span><span class="op">(</span>
    class <span class="op">=</span> <span class="st">"two"</span>,
    <span class="fu">shiny.semantic</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny.semantic/man/field.html" class="external-link">field</a></span><span class="op">(</span>
      <span class="va">tags</span><span class="op">$</span><span class="fu">label</span><span class="op">(</span><span class="st">"Firstname"</span><span class="op">)</span>,
      <span class="fu">shiny.semantic</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny.semantic/man/text_input.html" class="external-link">text_input</a></span><span class="op">(</span><span class="st">"firstname"</span>, value <span class="op">=</span> <span class="st">""</span>, type <span class="op">=</span> <span class="st">"text"</span><span class="op">)</span>
    <span class="op">)</span>,
    <span class="fu">shiny.semantic</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny.semantic/man/field.html" class="external-link">field</a></span><span class="op">(</span>
      <span class="va">tags</span><span class="op">$</span><span class="fu">label</span><span class="op">(</span><span class="st">"Surname"</span><span class="op">)</span>,
      <span class="fu">shiny.semantic</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny.semantic/man/text_input.html" class="external-link">text_input</a></span><span class="op">(</span><span class="st">"surname"</span>, value <span class="op">=</span> <span class="st">""</span>, type <span class="op">=</span> <span class="st">"text"</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span>,
  <span class="fu">fomantic.plus</span><span class="fu">::</span><span class="fu"><a href="../reference/form_validation.html">form_validation</a></span><span class="op">(</span>
    id <span class="op">=</span> <span class="st">"form"</span>,
    <span class="fu">fomantic.plus</span><span class="fu">::</span><span class="fu"><a href="../reference/field_validation.html">field_validation</a></span><span class="op">(</span>
      <span class="st">"firstname"</span>,
      <span class="fu">fomantic.plus</span><span class="fu">::</span><span class="fu"><a href="../reference/field_validation.html">field_rule</a></span><span class="op">(</span><span class="st">"empty"</span><span class="op">)</span>
    <span class="op">)</span>,
    <span class="fu">fomantic.plus</span><span class="fu">::</span><span class="fu"><a href="../reference/field_validation.html">field_validation</a></span><span class="op">(</span>
      <span class="st">"surname"</span>,
      <span class="fu">fomantic.plus</span><span class="fu">::</span><span class="fu"><a href="../reference/field_validation.html">field_rule</a></span><span class="op">(</span><span class="st">"empty"</span><span class="op">)</span>,
      <span class="fu">fomantic.plus</span><span class="fu">::</span><span class="fu"><a href="../reference/field_validation.html">field_rule</a></span><span class="op">(</span><span class="st">"doesntContain"</span>, value <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre>
<p><img src="invalid_input.png" alt="Screenshot of app, with error message displayed in a message box under the form" style="width:100.0%"></p>
<p>The form itself looks like any standard form in <code>{shiny.semantic}</code>, with an exception that we have included an ID to the form. This is important for the validation to know which form to validate.</p>
<p>The validation above is looking for the following:</p>
<ul>
<li>The firstname input is not empty</li>
<li>The lastname input is not empty <strong>and</strong> does not include the word “test”</li>
</ul>
<p>If all conditions pass, then the button will enable events to be run server-side, otherwise an error message will appear in the UI (as above) telling the user all of the mistakes that have been made. Including a label for each input is important, as this is how the validation messages will return useful messages to the user.</p>
<p>If you would rather have the message next to the wrong input rather than a message box use <code>inline = TRUE</code>.</p>
<p><img src="invalid_inline_input.png" alt="Screenshot of app, with error message displayed as a tooltip under the inputs" style="width:100.0%"></p>
</div>
<div class="section level2">
<h2 id="validation-rules">Validation Rules<a class="anchor" aria-label="anchor" href="#validation-rules"></a>
</h2>
<p>There are two types of rule, ones that require a value, and ones that don’t require a value.</p>
<p>The following rules <strong>do not</strong> require a value:</p>
<ul>
<li>
<code>"empty"</code> - Checks that a certain input is not empty</li>
<li>
<code>"checked"</code> - Checks that a checkbox input has been checked</li>
<li>
<code>"email", "url", "creditCard"</code> - Checks that an input is in a specific format</li>
<li>
<code>"number", "decimal", "integer"</code> - Checks that a number is any numeric value. <strong>NB</strong> even though these are numeric values, they must still be <code>text_input</code>s
<ul>
<li>Numeric inputs can also check values are within a range, in this case a value is included in the format <code>"x..y"</code> where <code>x</code> is the minimum value and <code>y</code> is the maximum value</li>
</ul>
</li>
</ul>
<p>The following rules <strong>do</strong> require a value:</p>
<ul>
<li>
<code>"regExp"</code> - Matches input against a regular expression</li>
<li>
<code>"contains", "doesntContain", "containsExactly", "doesntContainExactly"</code> - Matches input against a fixed string</li>
<li>
<code>"is", "not", "isExactly", "notExactly"</code> - Matches input exactly against a fixed string
<ul>
<li>When <code>"Exactly"</code> is included, the term is case sensitive, otherwise it is case insensitive</li>
</ul>
</li>
<li>
<code>"minLength", "exactLength", "maxLength"</code> - Checks the number of characters used in an input</li>
<li>
<code>"match", "different"</code> - Matches the input against another input the form</li>
<li>
<code>"minCount", "exactCount", "maxCount"</code> - Checks the number of selections made in a multiple select input</li>
</ul>
<p>For a list of all available rules, check the details section in <code><a href="../reference/field_validation.html">?fomantic.plus::field_rule</a></code> or the <a href="https://fomantic-ui.com/behaviors/form.html#validation-rules" class="external-link">Fomantic UI Website</a></p>
</div>
<div class="section level2">
<h2 id="custom-messages">Custom Messages<a class="anchor" aria-label="anchor" href="#custom-messages"></a>
</h2>
<p>The validation messages from Fomantic are pretty clear, but if you want to write a more specific message then that is possible using the <code>prompt</code> argument in <code>field_rule</code>.</p>
<p>For example if you require a password with a non-word character you might use:</p>
<pre><code><span class="fu"><a href="../reference/field_validation.html">field_rule</a></span><span class="op">(</span>
  <span class="st">"regExp"</span>, 
  prompt <span class="op">=</span> <span class="st">"Password must contain at least one special character"</span>, 
  value <span class="op">=</span> <span class="st">"\\W"</span>
<span class="op">)</span></code></pre>
<p>There are also some special phrases that can be used for more dynamic prompts:</p>
<ul>
<li>
<code>{name}</code> - The current text of a field’s label, or if no label available its placeholder text</li>
<li>
<code>{identifier}</code> - The identifier used to match the field</li>
<li>
<code>{value}</code> - The current field value</li>
<li>
<code>{ruleValue}</code> - The value passed to a rule, for example <code>field_rule("minLength", value = 100)</code> would set this value to 100</li>
</ul>
<div class="section level3">
<h3 id="example-1">Example<a class="anchor" aria-label="anchor" href="#example-1"></a>
</h3>
<pre><code><span class="fu"><a href="../reference/field_validation.html">field_rule</a></span><span class="op">(</span>
  <span class="st">"is"</span>, 
  prompt <span class="op">=</span> <span class="st">"You entered {value}, we were looking for {ruleValue}"</span>, 
  value <span class="op">=</span> <span class="st">"right"</span>
<span class="op">)</span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="submit-button">Submit Button<a class="anchor" aria-label="anchor" href="#submit-button"></a>
</h2>
<p>The submit button in <code>form_validation</code> is just like any other Fomantic UI button, but behaves slightly differently to the standard <code><a href="https://rdrr.io/pkg/shiny.semantic/man/action_button.html" class="external-link">shiny.semantic::action_button</a></code>. When a normal <code>action_button</code> is clicked, then it will always trigger an event on the server-side. When a button in <code>form_validation</code> is clicked, it will run all of the validation, and only if it passes all checks will it trigger the server-side events.</p>
<p>The button id is the form id + "_submit". This is to prevent duplicate ids between the form itself and the button.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Ashley Baldry.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
